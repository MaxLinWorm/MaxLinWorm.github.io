/* IGUAL AO GITHUB 2023-01-26 */
@import url(https://maxlinworm.github.io/max-base.css);
@import url('https://maxlinworm.github.io/Fonts/20230128175932.css');

/* Só para tirar prova real */
/* === VARIÁVEIS === */

/* MOBILE */
/* Usa T3 (mais clara) para mobile */
@media screen and (max-device-width: 1023px)  { 
    :root {
        /* Triplicate T3 */
        --max-body-ff: '20230128175932';
        --max-code-ff: '20230128175932';
    }
}

/* DESKTOP */
@media screen and (min-device-width: 1024px)  { 
    :root {
        /* Triplicate T4 */
        --max-body-ff: var(--max_body_ff_mono);
        --max-code-ff: var(--max_code_ff);
    }
}



:root {
    /* UNIVERSAIS */
    
    /* Fonts */
    --max-ui-ff: Georgia, var(--max_main_ff_sans);

    
    /*
    --ff-allpages: var(--max-ui-ff);
    */
    --ff-app__div: inherit;
    
    --ff-button: var(--max-ui-ff);
    
    /*--ff-codeblock__code: 'Comic Sans MS';/* Roboto Mono, ui-monospace, Menlo, Consolas, Monaco, Liberation Mono, Lucida Console, monospace;*/
    --ff-codeblock__gutter: var(--max-code-ff);
    
    --ff-datepicker: var(--max-ui-ff);
    --ff-dialog: var(--max-ui-ff);
    --ff-graph-dropdown: var(--max-ui-ff);
    
    --ff-left-sidebar: var(--max-ui-ff);
    
    
    
    --ff-elevation: 'Comic Sans MS';
    --ff-emoji-mart: 'Comic Sans MS';
    --ff-find-or-create__wrapper-large: 'Comic Sans MS';
    --ff-help__category-name: 'Comic Sans MS';
    --ff-help__component-description: 'Comic Sans MS';
    --ff-help__component-notation: 'Comic Sans MS';/*Roboto Mono, ui-monospace, Menlo, Consolas, Monaco, Liberation Mono, Lucida Console, monospace; */
    --ff-help__resource-description: 'Comic Sans MS';
    --ff-help__resource-title: 'Comic Sans MS';
    
    --ff-help: 'Comic Sans MS';
    
    --ff-input__search-placeholder: 'Comic Sans MS';
    --ff-input: 'Comic Sans MS';
    
    
    
    /* Título de place holder de Daily Note Log */
    --ff-log-page__h1: var(--max-headings-ff);
    
    /* --ff-main__inline-code: var(--max-code-ff);/* Roboto Mono, ui-monospace, Menlo, Consolas, Monaco, Liberation Mono, Lucida Console, monospace; 
    --ff-main__level1: 'Comic Sans MS';
    --ff-main__level2: 'Comic Sans MS';
    --ff-main__level3: 'Comic Sans MS';
    --ff-main__page-title: 'Comic Sans MS';
    */
    
    
    
    
    --ff-main__pomodoro: 'Comic Sans MS';
    
    
    --ff-main__quote: 'Comic Sans MS';
    --ff-main__tags: 'Comic Sans MS';
    
    
    --ff-main__zoom-item: 'Comic Sans MS';
    
    /* 
    --ff-main: 'Comic Sans MS';
    */
    
    --ff-menu: 'Comic Sans MS';
    
    
    --ff-popover: 'Comic Sans MS';
    
    
    --ff-reference__linked-title-closed: 'Comic Sans MS';
    --ff-reference__linked-title: 'Comic Sans MS';
    --ff-reference__page-title: 'Comic Sans MS';
    --ff-reference__unlinked-title-closed: 'Comic Sans MS';
    --ff-reference__unlinked-title: 'Comic Sans MS';
    --ff-reference__zoom-item: 'Comic Sans MS';
    --ff-reference: 'Comic Sans MS';
    
    
    --ff-right-sidebar__h1: 'Comic Sans MS';
    
    --ff-right-sidebar__helper-text: 'Comic Sans MS';
    
    --ff-roam-css-js: 'Comic Sans MS';
    
    --ff-settings__extensions-container: 'Comic Sans MS';
    --ff-settings__hotkeys: 'Comic Sans MS', Roboto Mono, ui-monospace, Menlo, Consolas, Monaco, Liberation Mono, Lucida Console, monospace;
    
    
    --ff-settings: 'Comic Sans MS';
    --ff-toast: 'Comic Sans MS';
    --ff-tooltip: 'Comic Sans MS';
    
    /* Outros */
    /*--max-fs: 1.06rem; */
    --max-co: var(--co-main);

    /* Bullets */
    --max-bullet-aumento: 1px;

    /* Bullet Fechado com children */
    --bt-bullet__closed: 4px solid rgb(217, 220, 223); /* 4px, solid, #f8f8f8 */
    --br-bullet__closed: var(--bt-bullet__closed);
    --bb-bullet__closed: var(--bt-bullet__closed);
    --bl-bullet__closed: var(--bt-bullet__closed);

    --bt-right-sidebar__bullet-closed: var(--bt-bullet__closed);
    --br-right-sidebar__bullet-closed: var(--bt-bullet__closed);
    --bb-right-sidebar__bullet-closed: var(--bt-bullet__closed);
    --bl-right-sidebar__bullet-closed: var(--bt-bullet__closed);

    /* Indicadores de Block references */
    --bc-ref-count--active: var(--bc-button--hover);
    
    /* Aumenta contraste do Multibar - Linha guias de hierarquia do Outline */
    --br-multibar: 2px solid rgb(236, 237, 236);

    /* MAIN = body */
    --ff-main: var(--max-body-ff);
    /*--fs-main: var(--max-fs);*/
    --fw-main: 400;

    /* HEADINGS */
    --max-headings-ff: var(--max-body-ff);

    /* Não sei, diz log book */
    --co-app__h1: red; /* #202224 */
    --ff-app__h1: var(--max-headings-ff);

    /* H1 */
    --ff-main__level1: var(--max-headings-ff);
    --fs-main__level1: 1.5rem;
    --max-headings-h1-lh: 1.35em;

    /* H2 */
    --ff-main__level2: var(--max-headings-ff);
    --fs-main__level2: 1.35rem;
    --max-headings-h2-lh: 1.35em;

    /* H3 */
    --ff-main__level3: var(--max-headings-ff);
    --fs-main__level3: 1.25rem;
    --fw-main__level3: 600;
    --max-headings-h3-lh: 1.35em;

    /* Page Title */
    --ff-main__page-title: var(--max-headings-ff);
    --fs-main__page-title: 1.5rem;
    --fw-main__page-title: 700;
    --max-headings-title-lh: 1.35em;

    /* CODE */

    /* Code Blocks */
    --ff-codeblock__code: var(--max_code_ff);
    --fs-codeblock__code: var(--max_code_fs);
    --co-codeblock__code: var(--max-co);

    /* Inline Code*/
    --ff-main__inline-code: var(--max-code-ff);
    --fs-main__inline-code: 0.9em; /* 0.9 em */
    --co-main__inline-code: var(--max-co);
    
    /* MENUS */

    --ff-div: var(--max-ff);

    /* QUOTES */

    --max-bl-quote: 2px solid var(--max_color_text_muted);
    /* Margin */
    --max-ma-quote: 10px 0px 0px 0px;
    /* Padding */
    --max-pa-quote: 0px 0px 0px 15px;
    --max-quote-ff: var(--max-ff);
    --max-quote-fs: var(--fs-main);
    --ff-quote: var(--max-quote-ff);
    --fs-quote: var(--max-quote-fs);
    --bc-quote: inherit;

    /* SIDEBAR */
    --ff-starred__page: var(--max-ff);
    --ff-starred__title: var(--max-ff);
    --ff-logbutton: var(--max-ff);
    --ff-left-sidebar__db-title: var(--max-ff);
    
    /* ALL PAGES */
    --ff-allpages: var(--max-ui-ff);
    --max-allpages-mw: 700px;
    --max-allpages-co: var(--max-co);
    --max-allpages-ff: var(--max-body-ff);
    --max-allpages-ffs: var(--max_body_ffs_mono);
}

@media(prefers-color-scheme: dark) {
    /* Cor dos bullets */
    :root {
        --bt-bullet__closed: 4px solid #4c4c4c;
        --br-bullet__closed: var(--bt-bullet__closed);
        --bb-bullet__closed: var(--bt-bullet__closed);
        --bl-bullet__closed: var(--bt-bullet__closed);
    }
}

:root {
    --max-codeblock-maxheight: 700px;
}
@media screen and (max-height: 700px){
    :root {
        --max-codeblock-maxheight: 500px;
    }
}

/* Fix para itens de menu ativos no smartblocks não são diferentes introduzidos em 2022-08-16 por https://github.com/rcvd/roam-css-system/commit/9363709624d9e528ac3e96529bbe0e4c4aec68be */

.bp3-menu-item.bp3-active.bp3-intent-primary.bp3-popover-dismiss {
    --co-menu__item: var(--co-menu__menu-item--active);
}


/* TAGS ESPECIAIS */

/* Smartblocks */
[data-path-page-links*='SmartBlock'] {
    --max-smartblock-ff: var(--max-code-ff);
    --max-smartblock-fs: 16px;
    --ff-main: var(--max-smartblock-ff);
    --fs-main: var(--max-smartblock-fs);
}


/* Arquivado */
[data-page-links*='Status-Arquivado'] {
    --max-arq-co: rgb(176, 176, 176);
    --co-main: var(--max-arq-co);
    --co-page__link: var(--max-arq-co);
}


/* === REGRAS === */

/* BOTÕES, principalmente para usar com Smartblocks e query builder */

/*
.bp3-portal {
    --bc-button: var(--bc-input);
}
*/

/* Restaura outline/contorno no botão em foco
   útil para navegação por keyboard
*/
.bp3-portal :focus {
    outline: rgb(207, 206, 207) auto 2px;
    /*rgba(19,124,189,0.6) auto 2px; */
}

/* Fix dos linked references filter ficarem overlapping */

/* Lista */
div.bp3-transition-container.bp3-popover-enter-done
  >div.bp3-popover[style*='transform-origin']
  >div.bp3-popover-content
  >div[style*='max-width: 600px']
  >div[style*='display: flex']
  >div:nth-child(4)
  >div
  >div
  >button {
    height: auto;
}

/* Selecionados */
div.bp3-transition-container.bp3-popover-enter-done
  >div.bp3-popover[style*='transform-origin']
  >div.bp3-popover-content
  >div[style*='max-width: 600px']
  >div[style*='display: flex']
  >div.flex-h-box
  >div[style*='flex: 1']
  >div[style*='padding-top: 8px;']
  >button {
    height: auto;
}

body,
html {
    letter-spacing: 0em;
    font-size: 15px; /* Era 14. Escolhi 15.0943 pq o --fs-main é 1.06rem, de forma que totaliza 16px*/
}

/* SIDEBAR */

/* Wrap */
.starred-pages-wrapper .starred-pages a>div {
    overflow-wrap: break-word;
    white-space: normal;
}

/* Troca espaço por NBSP */
.roam-body .roam-app .roam-sidebar-container .roam-sidebar-content .starred-pages-wrapper .starred-pages .page::before {
    content: "›\00a0\00a0";
}

/* AUMENTA BULLETS E REALINHA EM DECORRÊNCIA */

/* Bullets em si - era 4px */
.rm-bullet__inner {
    height: calc(4px + var(--max-bullet-aumento));
    width: calc(4px + var(--max-bullet-aumento));
}

.controls,
.rm-block__controls {
    padding-top: calc(4px + var(--max-bullet-aumento));
}

/* Não sei o que faz
   Olhando no Dev Tools
   É lá na esquerda superior
   Perto do sidebar 
   Mudei para compensar aumento do bullet */
.controls .simple-bullet-outer .simple-bullet-inner,
.rm-block__controls .simple-bullet-outer .simple-bullet-inner {
    height: calc(4px + var(--max-bullet-aumento));
    width: calc(4px + var(--max-bullet-aumento));
}

/* Diminui distância do texto e do bullet */
.controls,
.rm-block__controls {
    flex: 0 0 40px; /*48px*/
}

/* ESPAÇAMENTO DO ARTIGO */

/* Se não, embeds se extendiam à direita demais quando sidebar
   estava fechado */
.rm-embed-container {
    margin-right: 0px; /*-116px*/
}

/* Diminui padding na direita */
.roam-body .roam-app .roam-main .roam-article {
    padding-right: 30px; /*42 no Roam normal */
}

/* retira espaço não usado do block separator */
.rm-block-separator+div[style="min-width: 24px;"] {
    min-width: 0px;
}

/* BRACKETS DOS LINKS */

/* Brackets Únicos nos Links Bidirecionais */
.rm-page-ref__brackets {
    display: none;
}

.rm-page-ref--link:before {
    content: "[";
    color: var(--co-brackets);
    font-weight: 300;
}

.rm-page-ref--link:after {
    content: "]";
    color: var(--co-brackets);
    font-weight: 300;
}

/* Nos block mentions */
span.rm-page-ref__brackets {
    display: none;
}

/* BODY */
/* Para usar triplicate "semi proporcional" */
.roam-body .roam-app .roam-main .roam-article, 
.roam-body .roam-app .roam-main .roam-article textarea, 
.roam-block-container .rm-block-main, 
.roam-block-container .rm-block-main, 
.roam-block-container textarea, 
.roam-block {
    font-feature-settings: var(--max_body_ffs_mono);
}

/* HEADINGS */

/* H1 */
.rm-level1,
.rm-heading-level-1>.rm-block__self .rm-block__input,
.roam-body .roam-app .roam-main .roam-article .rm-heading-level-1.rm-block>div>div>textarea {
    line-height: var(--max-headings-h1-lh);
}

/* H2 */
.rm-level2,
.rm-heading-level-2>.rm-block__self .rm-block__input,
.roam-body .roam-app .roam-main .roam-article .rm-heading-level-2.rm-block>div>div>textarea {
    line-height: var(--max-headings-h2-lh);
}

/* H3 */
.rm-level3,
.rm-heading-level-3>.rm-block__self .rm-block__input,
.roam-body .roam-app .roam-main .roam-article .rm-heading-level-3.rm-block>div>div>textarea {
    line-height: var(--max-headings-h3-lh);
}

/* Page Title */
.roam-body .roam-app .roam-main .roam-article .rm-title-editing-display, 
.roam-body .roam-app .roam-main .roam-article .rm-title-display {
    line-height: 5;/*var(--max-headings-title-lh)/* calc(var(--fs-main__page-title) + 8px)*/
    height: fit-content !important;
}
.rm-title-textarea, 
.roam-body .roam-app .roam-main .roam-article .rm-title-editing-display textarea.rm-title-textarea {
    line-height: 5;
}
/* Bug na edição de títulos com mais de uma linha */
.roam-body .roam-app .roam-main .roam-article .rm-title-editing-display textarea {
    height: auto!important;
}

/* Alinha Bullets nos headings */

.rm-heading-level-1>.rm-block__self>.controls,
.rm-heading-level-1>.rm-block__self>.rm-block__controls,
.rm-block--closed.rm-heading-level-1>.rm-block__self>.controls,
.rm-block--closed.rm-heading-level-1>.rm-block__self>.rm-block__controls {
    /* Usa margin para não interferir no scope highlighter */
    margin-top: 4px;
}

.rm-heading-level-2>.rm-block__self>.controls,
.rm-heading-level-2>.rm-block__self>.rm-block__controls,
.rm-block--closed.rm-heading-level-2>.rm-block__self>.controls,
.rm-block--closed.rm-heading-level-2>.rm-block__self>.rm-block__controls {
    margin-top: 2px;
}

/* QUOTES */

.rm-bq {
    margin: var(--max-ma-quote);
    padding: var(--max-pa-quote);
    border-left: var(--max-bl-quote);
}

/* EMBED */

/* Normal */

/* Embed (CSS do site) */
.rm-embed-container--block {
    padding-left: 1px
        /*2px*/
    ;
}

/* Embed expandido para mostrar
   bullet original  */
.rm-embed-container--block.rm-embed-show-bullet {
    padding-left: 0px
        /*2px*/
    ;
    margin-left: -5px;
}

/* EMBED PATHS */
.rm-embed-path {
    /* igual embed normal do tema */
    background-color:   var(--bc-embed);
    border-top:         var(--bt-embed);
    border-right:       var(--br-embed);
    border-bottom:      var(--bb-embed);
    border-left:        var(--bl-embed);
    border-radius:      var(--bd-embed);
}

.rm-embed-path {
    /* Iguais embed normal do site  */
    margin-left: -5px;
    /*-4px;*/
    padding-left: 3px;
    /*2px*/
    margin-bottom: -4px;

}

.rm-embed-path>.rm-embed-path__inner>.rm-inline-reference>.roam-block-container.rm-block {
    margin-left: -11px;
}


/* HIGHLIGHT do Embeds quando navego 
Tree acima */

/* Retira border e colocar outline 
   do transcluído em embeds / backlinks
   para melhorar alinhamento */
.block-highlight-yellow>.rm-block__self {
    border: none;
    outline: 3px solid;
    outline-color: var(--highlight-color)
}

/* BLOCK VERSIONS */

.rm-select-version-button.rm-button-selected {
    background-color: var(--highlight-color);
}


/* CODE BLOCKS */

/* Tipografia */
.cm-content .cm-line,
.cm-gutters{
    
    font-feature-settings: var(--max_code_ffs);
    -webkit-font-feature-settings: var(--max_code_ffs);
    -moz-font-feature-settings: var(--max_code_ffs);
    -ms-font-feature-settings: var(--max_code_ffs);

    font-variant: var(--max_code_fv);
    font-variant-ligatures: var(--max_code_fvl);
    font-variant-alternates: var(--max_code_fva);

}

.ͼ1 .cm-scroller div {
    line-height: var(--max_code_lh);
}

/* Max-height dos code blocks */
div.rm-article-wrapper div.cm-editor,
div#roam-right-sidebar-content div.cm-editor {
    max-height: var(--max-codeblock-maxheight);
    overflow-y: auto;
}

/* INLINE CODE */

code {
    font-feature-settings: var(--max_code_ffs);
}

/* TAGS ESPECIAIS */

/* Arquivado */
[data-page-links*='Status-Arquivado']>.rm-block-main {
    text-decoration: line-through;
}

/* Descendentes com ancestrais com tag */
[data-path-page-links*='Status-Arquivado'] {
    text-decoration: none;
}

/* ALL PAGES */
.rm-all-pages .rm-pages-title-matching-block {
    max-width: var(--max-allpages-mw);
    color: var(--max-allpages-co);
    font-family: var(--max-allpages-ff);
    font-feature-settings: var(--max-allpages-ffs);
}

/* TOPBAR */

/* Igualar altura das toolbars */
/* Centro */
div.roam-app:not(.mobile) .rm-topbar,
.rm-files-dropzone {
    height: 30px;
}

/* Left Sidebar */
.roam-body div.roam-app:not(.mobile) .roam-sidebar-container .roam-sidebar-content .top-row {
    height: 30px;
}

/* Right Sidebar */
div.roam-app:not(.mobile) #right-sidebar > .flex-h-box {
    height: 30px;
    padding-top: 0px !important;
    padding-bottom: 0px !important;
}